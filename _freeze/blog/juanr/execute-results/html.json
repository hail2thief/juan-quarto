{
  "hash": "ab865e1ce0ad60885e574b3b081c353f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"The `juanr` package\"\nsubtitle: \"Some datasets for teaching and poking around\"\nauthor: \"Juan Tellez\"\ndate: \"2026-02-20\"\ntoc: true\ncategories: [R, data, teaching]\n---\n\n\n\n\n\n![](../images/juanr-sticker.png){fig-align=\"center\" width=\"25%\"}\n\nI maintain an R package called `juanr` that I use for teaching. It's a grab-bag of 30+ datasets that I've collected over the years from published research, government sources, and the great [Data is Plural](https://www.data-is-plural.com/). I use them for in-class exercises, problem sets, and demos.\n\nYou can install it from GitHub:\n\n```r\nremotes::install_github(\"hail2thief/juanr\")\n```\n\nThe full list of datasets is on the [GitHub repo](https://github.com/hail2thief/juanr). Most of the datasets are ready to go: clean names, reasonable variable types. Some fun examples, below.\n\n\n# Art auction prices\n\nThe `art` dataset has about 18,000 records from art auctions around the world, from a [2024 study](https://doi.org/10.1038/s41598-024-72275-z) on what predicts art prices. It includes the sale price, the artist's nationality and gender, and whether they went to an elite art school.\n\nOne question: how big is the gender gap in art prices?\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nart |>\n  filter(real_price_usd > 0) |>\n  mutate(gender = if_else(gender_male == 1, \"Male\", \"Female\")) |>\n  ggplot(aes(x = real_price_usd, fill = gender)) +\n  geom_density(alpha = 0.6, color = NA) +\n  scale_x_log10(labels = scales::dollar_format()) +\n  scale_fill_manual(values = pal[c(1, 7)]) +\n  labs(\n    title = \"Art sold by women sells for less\",\n    subtitle = \"Distribution of auction prices (log scale) by artist gender\",\n    x = \"Sale price (USD)\",\n    y = \"Density\",\n    fill = NULL\n  )\n```\n\n::: {.cell-output-display}\n![](juanr_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n\nOr: does going to an elite art school help? Here's the median price by gender and elite school attendance:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nart |>\n  filter(real_price_usd > 0) |>\n  mutate(\n    gender = if_else(gender_male == 1, \"Male\", \"Female\"),\n    school = if_else(elite_school == 1, \"Elite school\", \"Non-elite school\")\n  ) |>\n  summarise(\n    `Median price (USD)` = median(real_price_usd),\n    `N` = n(),\n    .by = c(gender, school)\n  ) |>\n  arrange(school, gender) |>\n  mutate(`Median price (USD)` = scales::dollar(`Median price (USD)`)) |>\n  kableExtra::kbl(\n    col.names = c(\"Gender\", \"School\", \"Median price\", \"N\"),\n    align = \"llrc\",\n    booktabs = TRUE\n  ) |>\n  kableExtra::kable_styling(\n    full_width = FALSE,\n    bootstrap_options = c(\"striped\", \"hover\"),\n    position = \"center\"\n  )\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Gender </th>\n   <th style=\"text-align:left;\"> School </th>\n   <th style=\"text-align:right;\"> Median price </th>\n   <th style=\"text-align:center;\"> N </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:left;\"> Elite school </td>\n   <td style=\"text-align:right;\"> $30,564.00 </td>\n   <td style=\"text-align:center;\"> 342 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:left;\"> Elite school </td>\n   <td style=\"text-align:right;\"> $25,809.00 </td>\n   <td style=\"text-align:center;\"> 2951 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:left;\"> Non-elite school </td>\n   <td style=\"text-align:right;\"> $18,357.00 </td>\n   <td style=\"text-align:center;\"> 1338 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:left;\"> Non-elite school </td>\n   <td style=\"text-align:right;\"> $22,490.00 </td>\n   <td style=\"text-align:center;\"> 9178 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> $14,852.50 </td>\n   <td style=\"text-align:center;\"> 614 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n# Vietnam War hamlets\n\nThe `vietnam` dataset comes from [Kalyvas and Kocher (2009)](https://doi.org/10.1017/S0003055409090194) and contains over 70,000 hamlet-month observations from the Hamlet Evaluation System (HES) — the US military's attempt to track \"progress\" during the Vietnam War. Each hamlet was assessed on who controlled it (the government, the Vietcong, or somewhere in between), along with information on bombing, population, and whether the Vietcong used selective terror against civilians.\n\n\nHere's the relationship between territorial control and bombing:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nvietnam |>\n  filter(!is.na(control), !is.na(bombs)) |>\n  summarise(\n    avg_bombs = mean(bombs),\n    .by = control\n  ) |>\n  ggplot(aes(x = factor(control), y = avg_bombs)) +\n  geom_col(fill = pal[3], alpha = 0.8) +\n  labs(\n    title = \"Bombing intensity by territorial control\",\n    subtitle = \"Average bomb sorties per hamlet-month\",\n    x = \"Control (government \\u2190 \\u2192 Vietcong)\",\n    y = \"Average bomb sorties\",\n    caption = \"Source: Kalyvas and Kocher (2009)\"\n  )\n```\n\n::: {.cell-output-display}\n![](juanr_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n\n\n\n\n# Colorism in Latin America\n\nThe `race` dataset comes from the 2014 wave of the [Latin American Public Opinion Project (LAPOP)](https://www.vanderbilt.edu/lapop/). Enumerators rated each respondent's skin color on a scale from 1 (lightest) to 11 (darkest) using a standardized color palette. The data covers Colombia, Brazil, Mexico, Guatemala, and the Dominican Republic.\n\nSkin color is one of those things that everyone in Latin America knows matters but that can be hard to pin down empirically. This dataset lets you see the variation:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrace |>\n  filter(!is.na(colorr), !is.na(pais)) |>\n  ggplot(aes(x = colorr)) +\n  geom_histogram(binwidth = 1, fill = pal[5], color = \"white\", alpha = 0.8) +\n  facet_wrap(~pais, scales = \"free_y\", ncol = 2) +\n  scale_x_continuous(breaks = 1:11) +\n  labs(\n    title = \"Distribution of skin color across Latin America\",\n    subtitle = \"Enumerator-rated skin color, 1 (lightest) to 11 (darkest)\",\n    x = \"Skin color\",\n    y = \"Count\",\n    caption = \"Source: LAPOP 2014\"\n  )\n```\n\n::: {.cell-output-display}\n![](juanr_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\nThe distributions are pretty different across countries. Brazil and Colombia have wider spreads, while Mexico and Guatemala cluster more tightly. The Dominican Republic is interesting.\n\n\n\n# Wrapping up\n\nThese are just three of the datasets in the package. There's also data on [coups](https://github.com/hail2thief/juanr), [campaign finance](https://github.com/hail2thief/juanr), [colonial Peru](https://github.com/hail2thief/juanr), [European elections](https://github.com/hail2thief/juanr), and [Pokémon](https://github.com/hail2thief/juanr).\n\nIf you teach with R and want some ready-to-go data that's a little more interesting than `mtcars`:\n\n```r\nremotes::install_github(\"hail2thief/juanr\")\nlibrary(juanr)\ndata(package = \"juanr\")\n```\n",
    "supporting": [
      "juanr_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}